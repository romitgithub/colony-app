{"version":3,"sources":["app.module.css","services/blockies.js","components/EventsList/eventsList.module.css","containers/Events/events.module.css","components/EventCard/eventCard.module.css","constants/index.ts","components/EventCard/index.tsx","components/EventsList/index.tsx","services/ApiService.ts","services/ColonyClient.ts","containers/Events/index.tsx","App.tsx","index.tsx"],"names":["module","exports","randseed","Array","rand","t","createColor","Math","floor","buildOpts","opts","newOpts","seed","random","pow","toString","i","length","charCodeAt","seedrand","size","scale","color","bgcolor","spotcolor","renderIcon","canvas","imageData","width","height","dataWidth","ceil","mirrorWidth","data","y","row","x","r","slice","reverse","concat","push","createImageData","sqrt","cc","getContext","fillStyle","fillRect","col","api","create","document","createElement","render","window","blockies","EventTypes","EventCard","getPrimaryText","event","primary","role","userAddress","domainId","amount","token","rewardPayoutId","symbol","type","className","styles","eventPrimaryText","this","props","imageUrl","avatarSeed","toDataURL","formattedDate","Date","secondary","toDateString","PrimaryText","eventCard","eventAvatar","src","alt","eventMetaData","eventSecondaryText","Component","EventsList","state","page","perPage","updatePageInfo","setState","getItems","eventsList","events","dataLength","next","hasMore","loader","endMessage","style","textAlign","map","index","key","React","apiService","getHeaders","Headers","get","url","options","a","getRequest","Request","method","headers","cache","fetch","then","response","status","json","Error","error","console","provider","InfuraProvider","networkClientOptions","networkAddress","TokenSymbolMapping","connectedWallet","Wallet","createRandom","connect","getColonyClient","getColonyNetworkClient","Network","Mainnet","networkClient","colonyClient","getDate","blockHash","getBlockTime","date","getColonyRoleSetData","parsedEvent","ColonyRole","values","address","utils","BigNumber","getPayoutClaimedData","originalAmount","humanReadableAmount","wei","div","getAmount","fundingPotId","getSymbolFromToken","tokenInfo","log","undefined","getEventLogs","eventFilter1","filters","PayoutClaimed","eventFilter2","ColonyInitialised","eventFilter3","ColonyRoleSet","eventFilter4","DomainAdded","getLogs","eventLogs","parsedLogs","interface","parseLog","Promise","all","finalEventData","name","transactionHash","claimedData","sort","b","Events","isLoading","eventsContainer","App","app","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.873190cc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__cewju\"};","(function () {\n  // The random number is a js implementation of the Xorshift PRNG\n  var randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\n\n  function seedrand(seed) {\n    for (let i = 0; i < randseed.length; i++) {\n      randseed[i] = 0;\n    }\n    for (let i = 0; i < seed.length; i++) {\n      randseed[i % 4] =\n        (randseed[i % 4] << 5) - randseed[i % 4] + seed.charCodeAt(i);\n    }\n  }\n\n  function rand() {\n    // based on Java's String.hashCode(), expanded to 4 32bit values\n    var t = randseed[0] ^ (randseed[0] << 11);\n\n    randseed[0] = randseed[1];\n    randseed[1] = randseed[2];\n    randseed[2] = randseed[3];\n    randseed[3] = randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8);\n\n    return (randseed[3] >>> 0) / ((1 << 31) >>> 0);\n  }\n\n  function createColor() {\n    //saturation is the whole color spectrum\n    var h = Math.floor(rand() * 360);\n    //saturation goes from 40 to 100, it avoids greyish colors\n    var s = rand() * 60 + 40 + \"%\";\n    //lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\n    var l = (rand() + rand() + rand() + rand()) * 25 + \"%\";\n\n    var color = \"hsl(\" + h + \",\" + s + \",\" + l + \")\";\n    return color;\n  }\n\n  function createImageData(size) {\n    var width = size; // Only support square icons for now\n    var height = size;\n\n    var dataWidth = Math.ceil(width / 2);\n    var mirrorWidth = width - dataWidth;\n\n    var data = [];\n    for (var y = 0; y < height; y++) {\n      var row = [];\n      for (var x = 0; x < dataWidth; x++) {\n        // this makes foreground and background color to have a 43% (1/2.3) probability\n        // spot color has 13% chance\n        row[x] = Math.floor(rand() * 2.3);\n      }\n      var r = row.slice(0, mirrorWidth);\n      r.reverse();\n      row = row.concat(r);\n\n      for (var i = 0; i < row.length; i++) {\n        data.push(row[i]);\n      }\n    }\n\n    return data;\n  }\n\n  function buildOpts(opts) {\n    var newOpts = {};\n\n    newOpts.seed =\n      opts.seed || Math.floor(Math.random() * Math.pow(10, 16)).toString(16);\n\n    seedrand(newOpts.seed);\n\n    newOpts.size = opts.size || 8;\n    newOpts.scale = opts.scale || 4;\n    newOpts.color = opts.color || createColor();\n    newOpts.bgcolor = opts.bgcolor || createColor();\n    newOpts.spotcolor = opts.spotcolor || createColor();\n\n    return newOpts;\n  }\n\n  function renderIcon(opts, canvas) {\n    opts = buildOpts(opts || {});\n    var imageData = createImageData(opts.size);\n    var width = Math.sqrt(imageData.length);\n\n    canvas.width = canvas.height = opts.size * opts.scale;\n\n    var cc = canvas.getContext(\"2d\");\n    cc.fillStyle = opts.bgcolor;\n    cc.fillRect(0, 0, canvas.width, canvas.height);\n    cc.fillStyle = opts.color;\n\n    for (var i = 0; i < imageData.length; i++) {\n      // if data is 0, leave the background\n      if (imageData[i]) {\n        var row = Math.floor(i / width);\n        var col = i % width;\n\n        // if data is 2, choose spot color, if 1 choose foreground\n        cc.fillStyle = imageData[i] === 1 ? opts.color : opts.spotcolor;\n\n        cc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\n      }\n    }\n    return canvas;\n  }\n\n  function createIcon(opts) {\n    var canvas = document.createElement(\"canvas\");\n\n    renderIcon(opts, canvas);\n\n    return canvas;\n  }\n\n  var api = {\n    create: createIcon,\n    render: renderIcon,\n  };\n\n  if (typeof module !== \"undefined\") {\n    module.exports = api;\n  }\n  if (typeof window !== \"undefined\") {\n    window.blockies = api;\n  }\n})();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"eventsList\":\"eventsList_eventsList__Uk8a7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"eventsContainer\":\"events_eventsContainer__1zCiC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"eventCard\":\"eventCard_eventCard__H4IH1\",\"eventAvatar\":\"eventCard_eventAvatar__2KeuE\",\"eventMetaData\":\"eventCard_eventMetaData__3opNK\",\"eventPrimaryText\":\"eventCard_eventPrimaryText__2PlqC\",\"eventSecondaryText\":\"eventCard_eventSecondaryText__1lAhQ\"};","const EventTypes: { [key: string]: string } = {\n  ColonyInitialised: \"ColonyInitialised\",\n  ColonyRoleSet: \"ColonyRoleSet\",\n  PayoutClaimed: \"PayoutClaimed\",\n  DomainAdded: \"DomainAdded\",\n};\n\nexport { EventTypes };\n","import React, { Component } from \"react\";\nimport EventInterface from \"interfaces/Event.interface\";\nimport blockies from \"services/blockies\";\nimport { EventTypes } from \"../../constants\";\n\nimport styles from \"./eventCard.module.css\";\n\ninterface Props {\n  event: EventInterface;\n}\n\nexport default class EventCard extends Component<Props> {\n  getPrimaryText = (event: EventInterface) => {\n    const {\n      data,\n      role,\n      userAddress,\n      domainId,\n      amount,\n      token,\n      rewardPayoutId,\n      symbol,\n    } = event.primary;\n    switch (event.type) {\n      case EventTypes.ColonyInitialised:\n        return <div className={styles.eventPrimaryText}>{data}</div>;\n      case EventTypes.ColonyRoleSet:\n        return (\n          <div className={styles.eventPrimaryText}>\n            <span>{role}</span> role assigned to user <span>{userAddress}</span>{\" \"}\n            in domain <span>{domainId}</span>\n          </div>\n        );\n      case EventTypes.PayoutClaimed:\n        return (\n          <div className={styles.eventPrimaryText}>\n            User <span>{userAddress}</span> claimed{\" \"}\n            <span>\n              {amount}\n              {symbol ? symbol : token}\n            </span>{\" \"}\n            payout from pot <span>{rewardPayoutId}</span>\n          </div>\n        );\n      case EventTypes.DomainAdded:\n        return (\n          <div className={styles.eventPrimaryText}>\n            Domain <span>{domainId}</span> added.\n          </div>\n        );\n      default:\n        return <div>{event.primary}</div>;\n    }\n  };\n\n  render() {\n    const { event } = this.props;\n    const icon = blockies.create({\n      seed: event.avatarSeed,\n    });\n    const imageUrl = icon.toDataURL();\n    const formattedDate = new Date(event.secondary).toDateString();\n    const PrimaryText = this.getPrimaryText(event);\n    return (\n      <div className={styles.eventCard}>\n        <img\n          className={styles.eventAvatar}\n          src={imageUrl}\n          alt=\"user-entropy-icon\"\n        />\n\n        <div className={styles.eventMetaData}>\n          {PrimaryText}\n          <div className={styles.eventSecondaryText}>{formattedDate}</div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport EventInterface from \"interfaces/Event.interface\";\nimport EventCard from \"components/EventCard/\";\n\nimport styles from \"./eventsList.module.css\";\n\ninterface Props {\n  eventsList: EventInterface[];\n}\n\ninterface State {\n  page: number;\n  perPage: number;\n}\n\nexport default class EventsList extends React.Component<Props, State> {\n  state = {\n    page: 0,\n    perPage: 10,\n  };\n\n  updatePageInfo = () => {\n    const { page } = this.state;\n    this.setState({ page: page + 1 });\n  };\n\n  getItems = () => {\n    const { page, perPage } = this.state;\n    return this.props.eventsList.slice(0, (page + 1) * perPage);\n  };\n\n  render() {\n    const events = this.getItems();\n    return (\n      <div className={styles.eventsList}>\n        <InfiniteScroll\n          dataLength={events.length} //This is important field to render the next data\n          next={this.updatePageInfo}\n          hasMore={events.length < this.props.eventsList.length}\n          loader={<h4>Loading...</h4>}\n          endMessage={\n            <p style={{ textAlign: \"center\" }}>\n              <b>Yay! You have seen it all</b>\n            </p>\n          }\n          // below props only if you need pull down functionality\n          // refreshFunction={this.refresh}\n          // pullDownToRefresh\n          // pullDownToRefreshThreshold={50}\n          // pullDownToRefreshContent={\n          //   <h3 style={{ textAlign: \"center\" }}>&#8595; Pull down to refresh</h3>\n          // }\n          // releaseToRefreshContent={\n          //   <h3 style={{ textAlign: \"center\" }}>&#8593; Release to refresh</h3>\n          // }\n        >\n          {events.map((event: EventInterface, index) => (\n            <EventCard event={event} key={index} />\n          ))}\n        </InfiniteScroll>\n      </div>\n    );\n  }\n}\n","class ApiService {\n  getHeaders = () => {\n    return new Headers({});\n  };\n\n  get = async (url: string, options: any) => {\n    const getRequest = new Request(url, {\n      method: \"GET\",\n      headers: { ...this.getHeaders(), ...options.headers },\n      cache: \"default\",\n    });\n\n    return fetch(getRequest).then(\n      (response) => {\n        if (response.status === 200) {\n          return response.json().then((data) => {\n            return data;\n          });\n        } else {\n          throw new Error(\"Failed to load data\");\n        }\n      },\n      (error) => {\n        console.error(error);\n      }\n    );\n  };\n}\n\nconst apiService = new ApiService();\n\nexport default apiService;\n","import {\n  getColonyNetworkClient,\n  Network,\n  getLogs,\n  getBlockTime,\n  ColonyRole,\n} from \"@colony/colony-js\";\nimport { Wallet, utils } from \"ethers\";\nimport { InfuraProvider } from \"ethers/providers\";\nimport { EventTypes } from \"../constants\";\nimport Event from \"interfaces/Event.interface\";\nimport apiService from \"./ApiService\";\n\n// Set up the network address constants that you'll be using\n// The two below represent the current ones on mainnet\n// Don't worry too much about them, just use them as-is\nconst MAINNET_NETWORK_ADDRESS = `0x5346D0f80e2816FaD329F2c140c870ffc3c3E2Ef`;\nconst MAINNET_BETACOLONY_ADDRESS = `0x869814034d96544f3C62DE2aC22448ed79Ac8e70`;\n\n// Get a new Infura provider (don't worry too much about this)\nconst provider = new InfuraProvider();\n\nconst networkClientOptions = {\n  networkAddress: MAINNET_NETWORK_ADDRESS,\n};\n\nconst TokenSymbolMapping: { [key: string]: string } = {};\n\n// Get a random wallet\n// You don't really need control over it, since you won't be firing any trasactions out of it\nconst wallet = Wallet.createRandom();\n// Connect your wallet to the provider\nconst connectedWallet = wallet.connect(provider);\n\nconst getColonyClient = async () => {\n  // Get a network client instance\n  const networkClient = await getColonyNetworkClient(\n    Network.Mainnet,\n    connectedWallet,\n    networkClientOptions\n  );\n\n  // Get the colony client instance for the betacolony\n  const colonyClient = await networkClient.getColonyClient(\n    MAINNET_BETACOLONY_ADDRESS\n  );\n  return colonyClient;\n};\n\nconst getDate = async (blockHash: string) => {\n  const date = await getBlockTime(provider, blockHash);\n  return date;\n};\n\nconst getAmount = (originalAmount: string) => {\n  const humanReadableAmount = new utils.BigNumber(originalAmount);\n  // Get a base 10 value as a BigNumber instance\n  const wei = new utils.BigNumber(10);\n\n  // The converted amount is the human readable amount divided by the wei value raised to the power of 18\n  const convertedAmount = humanReadableAmount.div(wei.pow(18));\n\n  // If you are confident that it's a low enough value, you can display it as an integer -- .toNumber()\n  // But to be on the safe side, you can also use it as a string\n  return convertedAmount.toString();\n};\n\nconst getColonyInitialisedData = () => {\n  return {\n    primary: { data: \"Congratulations! It's a beautiful baby colony!\" },\n  };\n};\n\nconst getColonyRoleSetData = (parsedEvent: any, event: any) => {\n  const role = ColonyRole[parsedEvent.values.role];\n  const userAddress = event.address;\n  const domainId = new utils.BigNumber(parsedEvent.values.domainId).toString();\n\n  return {\n    primary: { role, userAddress, domainId },\n  };\n};\n\nconst getPayoutClaimedData = (parsedEvent: any, event: any) => {\n  const userAddress = event.address;\n  const amount = getAmount(parsedEvent.values.amount);\n  const rewardPayoutId = new utils.BigNumber(\n    parsedEvent.values.fundingPotId\n  ).toString();\n  const token = parsedEvent.values.token;\n\n  return {\n    primary: { userAddress, amount, rewardPayoutId, token },\n  };\n};\n\nconst getDomainAddedData = (parsedEvent: any, event: any) => {\n  const domainId = new utils.BigNumber(parsedEvent.values.domainId).toString();\n\n  return {\n    primary: { domainId },\n  };\n};\n\nconst getSymbolFromToken = async (token: string) => {\n  if (TokenSymbolMapping[token]) {\n    return TokenSymbolMapping[token];\n  } else {\n    const API_KEY = \"EK-b3gZS-1FQnoyC-5GyNY\";\n    const tokenInfo: any = await apiService.get(\n      `https://api.ethplorer.io/getTokenInfo/${token}?apiKey=${API_KEY}`,\n      {}\n    );\n    console.log(token, tokenInfo);\n    if (tokenInfo) {\n      TokenSymbolMapping[token] = tokenInfo.symbol;\n    }\n    return tokenInfo ? tokenInfo.symbol : undefined;\n  }\n};\n\nconst getEventLogs = async () => {\n  const colonyClient: any = await getColonyClient();\n  // Get the filter\n  // There's a corresponding filter method for all event types\n  const eventFilter1 = colonyClient.filters.PayoutClaimed();\n  const eventFilter2 = colonyClient.filters.ColonyInitialised();\n  const eventFilter3 = colonyClient.filters.ColonyRoleSet();\n  const eventFilter4 = colonyClient.filters.DomainAdded();\n\n  // Get the raw logs array\n  const eventLogs = [\n    ...(await getLogs(colonyClient, eventFilter1)),\n    ...(await getLogs(colonyClient, eventFilter2)),\n    ...(await getLogs(colonyClient, eventFilter3)),\n    ...(await getLogs(colonyClient, eventFilter4)),\n  ];\n\n  const parsedLogs = eventLogs.map((event) =>\n    colonyClient.interface.parseLog(event)\n  );\n\n  const data = await Promise.all(\n    parsedLogs.map(async (event, index) => {\n      const date = await getDate(event.blockHash);\n\n      let finalEventData: Event = {\n        type: event.name,\n        secondary: date,\n        avatarSeed: eventLogs[index].address\n          ? eventLogs[index].address\n          : eventLogs[index].transactionHash,\n      };\n\n      switch (event.name) {\n        case EventTypes.ColonyInitialised:\n          finalEventData = {\n            ...finalEventData,\n            ...getColonyInitialisedData(),\n          };\n          break;\n        case EventTypes.ColonyRoleSet:\n          finalEventData = {\n            ...finalEventData,\n            ...getColonyRoleSetData(event, eventLogs[index]),\n          };\n          break;\n        case EventTypes.PayoutClaimed:\n          const claimedData = getPayoutClaimedData(event, eventLogs[index]);\n          const symbol = await getSymbolFromToken(claimedData.primary.token);\n          finalEventData = {\n            ...finalEventData,\n            ...claimedData,\n          };\n          finalEventData.primary.symbol = symbol;\n          break;\n        case EventTypes.DomainAdded:\n          finalEventData = {\n            ...finalEventData,\n            ...getDomainAddedData(event, eventLogs[index]),\n          };\n          break;\n        default:\n          finalEventData = { ...finalEventData };\n      }\n      return finalEventData;\n    })\n  );\n\n  data.sort((a, b) => a.secondary - b.secondary);\n  return data;\n};\n\nexport default getEventLogs;\n","import React from \"react\";\nimport EventsList from \"components/EventsList\";\nimport Event from \"interfaces/Event.interface\";\nimport getEventLogs from \"services/ColonyClient\";\nimport styles from \"./events.module.css\";\n\ninterface Props {}\n\ninterface State {\n  isLoading: boolean;\n  eventsList: Event[] | null;\n}\n\nexport default class Events extends React.Component<Props, State> {\n  state = {\n    isLoading: false,\n    eventsList: [],\n  };\n\n  async componentDidMount() {\n    this.setState({ isLoading: true });\n    getEventLogs().then(\n      (eventsList) => {\n        this.setState({ eventsList, isLoading: false });\n      },\n      (error) => {\n        this.setState({ eventsList: null, isLoading: false });\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className={styles.eventsContainer}>\n        {this.state.isLoading ? (\n          <div>Loading data...</div>\n        ) : this.state.eventsList ? (\n          <EventsList eventsList={this.state.eventsList} />\n        ) : (\n          <div>Uh oh! Failed to load data.</div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport styles from \"./app.module.css\";\nimport Events from \"./containers/Events\";\n\nfunction App() {\n  return (\n    <div className={styles.app}>\n      <Events />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}