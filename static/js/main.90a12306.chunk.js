(this["webpackJsonpcolony-app"]=this["webpackJsonpcolony-app"]||[]).push([[0],{173:function(e,t,n){e.exports={app:"app_app__cewju"}},174:function(e,t,n){!function(){var t=new Array(4);function n(){var e=t[0]^t[0]<<11;return t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=t[3]^t[3]>>19^e^e>>8,(t[3]>>>0)/(1<<31>>>0)}function a(){return"hsl("+Math.floor(360*n())+","+(60*n()+40+"%")+","+(25*(n()+n()+n()+n())+"%")+")"}function r(e){var n={};return n.seed=e.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16),function(e){for(var n=0;n<t.length;n++)t[n]=0;for(var a=0;a<e.length;a++)t[a%4]=(t[a%4]<<5)-t[a%4]+e.charCodeAt(a)}(n.seed),n.size=e.size||8,n.scale=e.scale||4,n.color=e.color||a(),n.bgcolor=e.bgcolor||a(),n.spotcolor=e.spotcolor||a(),n}function c(e,t){var a=function(e){for(var t=e,a=e,r=Math.ceil(t/2),c=t-r,o=[],s=0;s<a;s++){for(var i=[],u=0;u<r;u++)i[u]=Math.floor(2.3*n());var l=i.slice(0,c);l.reverse(),i=i.concat(l);for(var d=0;d<i.length;d++)o.push(i[d])}return o}((e=r(e||{})).size),c=Math.sqrt(a.length);t.width=t.height=e.size*e.scale;var o=t.getContext("2d");o.fillStyle=e.bgcolor,o.fillRect(0,0,t.width,t.height),o.fillStyle=e.color;for(var s=0;s<a.length;s++)if(a[s]){var i=Math.floor(s/c),u=s%c;o.fillStyle=1===a[s]?e.color:e.spotcolor,o.fillRect(u*e.scale,i*e.scale,e.scale,e.scale)}return t}var o={create:function(e){var t=document.createElement("canvas");return c(e,t),t},render:c};e.exports=o,"undefined"!==typeof window&&(window.blockies=o)}()},176:function(e,t,n){e.exports={container:"events_container__1gPPA"}},177:function(e,t,n){e.exports=n(352)},182:function(e,t,n){},192:function(e,t){},205:function(e,t){},207:function(e,t){},217:function(e,t){},219:function(e,t){},23:function(e,t,n){e.exports={card:"eventCard_card__1aROJ",avatar:"eventCard_avatar__2ZpFM",metaData:"eventCard_metaData__1TYIw",primaryText:"eventCard_primaryText__22NV8",secondaryText:"eventCard_secondaryText__3cKoX"}},245:function(e,t){},247:function(e,t){},248:function(e,t){},254:function(e,t){},256:function(e,t){},274:function(e,t){},276:function(e,t){},288:function(e,t){},291:function(e,t){},314:function(e,t){},316:function(e,t){},352:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(172),o=n.n(c),s=(n(182),n(173)),i=n.n(s),u=n(3),l=n.n(u),d=n(17),f=n(30),p=n(44),m=n(46),v=n(45),b=n(174),h=n.n(b),y="ColonyInitialised",g="ColonyRoleSet",w="PayoutClaimed",x="DomainAdded",O=n(23),j=n.n(O),E=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).getPrimaryText=function(e){var t=e.primary,n=t.data,a=t.role,c=t.userAddress,o=t.domainId,s=t.amount,i=t.token,u=t.rewardPayoutId,l=t.symbol;switch(e.type){case y:return r.a.createElement("div",{className:j.a.primaryText},n);case g:return r.a.createElement("div",{className:j.a.primaryText},r.a.createElement("span",null,a)," role assigned to user ",r.a.createElement("span",null,c)," ","in domain ",r.a.createElement("span",null,o));case w:return r.a.createElement("div",{className:j.a.primaryText},"User ",r.a.createElement("span",null,c)," claimed"," ",r.a.createElement("span",null,s,l||i)," ","payout from pot ",r.a.createElement("span",null,u));case x:return r.a.createElement("div",{className:j.a.primaryText},"Domain ",r.a.createElement("span",null,o)," added.");default:return r.a.createElement("div",{className:j.a.primaryText},e.primary)}},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props.event,t=h.a.create({seed:e.avatarSeed}).toDataURL(),n=-1!==e.secondary?new Date(e.secondary).toDateString():"",a=this.getPrimaryText(e);return r.a.createElement("div",{className:j.a.card},r.a.createElement("img",{className:j.a.avatar,src:t,alt:"user-entropy-icon"}),r.a.createElement("div",{className:j.a.metaData},a,r.a.createElement("div",{className:j.a.secondaryText},n)))}}]),n}(a.Component),k=n(99),S=n.n(k),_=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={page:0},e.handleScroll=function(t){t.target.offsetHeight+t.target.scrollTop===t.target.scrollHeight&&e.setState({page:e.state.page+1})},e.getItems=function(){var t=e.state.page;return e.props.eventsList.slice(0,10*(t+1))},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.getItems();return r.a.createElement("div",{className:S.a.container,onScroll:this.handleScroll},r.a.createElement("div",{className:S.a.list},e.map((function(e,t){return r.a.createElement(E,{event:e,key:t})}))))}}]),n}(r.a.Component),C=n(53),N=n(68),L=n(12),I=n(22),T=n(8),M=n(175),A=new function e(){var t=this;Object(f.a)(this,e),this.getHeaders=function(){return new Headers({})},this.get=function(){var e=Object(d.a)(l.a.mark((function e(n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Request(n,{method:"GET",headers:Object(L.a)(Object(L.a)({},t.getHeaders()),a.headers),cache:"default"}),e.abrupt("return",fetch(r).then((function(e){if(200===e.status)return e.json().then((function(e){return e}));throw new Error("Failed to load data")}),(function(e){console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},D=new M.InfuraProvider("homestead","4c30d38bb01645a1bef9e70fbab10582"),P={networkAddress:"0x5346D0f80e2816FaD329F2c140c870ffc3c3E2Ef"},R=function(){var e=window.localStorage.getItem("tokenSymbolMap");return e?JSON.parse(e):{}}(),B=T.Wallet.createRandom().connect(D),F=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.getColonyNetworkClient)(I.Network.Mainnet,B,P);case 2:return t=e.sent,e.next=5,t.getColonyClient("0x869814034d96544f3C62DE2aC22448ed79Ac8e70");case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Object(I.getBlockTime)(D,t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.abrupt("return",-1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){return{primary:{role:I.ColonyRole[e.values.role],userAddress:t.address,domainId:new T.utils.BigNumber(e.values.domainId).toString()}}},z=function(e,t){return{primary:{userAddress:t.address,amount:function(e){var t=new T.utils.BigNumber(e),n=new T.utils.BigNumber(10);return t.div(n.pow(18)).toString()}(e.values.amount),rewardPayoutId:new T.utils.BigNumber(e.values.fundingPotId).toString(),token:e.values.token}}},K=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R[t]){e.next=4;break}return e.abrupt("return",R[t]);case 4:return"EK-b3gZS-1FQnoyC-5GyNY",e.next=7,A.get("https://api.ethplorer.io/getTokenInfo/".concat(t,"?apiKey=").concat("EK-b3gZS-1FQnoyC-5GyNY"),{});case 7:return(n=e.sent)&&(R=Object(L.a)(Object(L.a)({},R),{},Object(N.a)({},t,n.symbol)),a=R,window.localStorage.setItem("tokenSymbolMap",JSON.stringify(a))),e.abrupt("return",n?n.symbol:void 0);case 10:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=Object(d.a)(l.a.mark((function e(n,a){var r,c,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t[a].blockHash);case 2:r=e.sent,c={type:n.name,secondary:r,avatarSeed:t[a].address?t[a].address:t[a].transactionHash},e.t0=n.name,e.next=e.t0===y?7:e.t0===g?9:e.t0===w?11:e.t0===x?18:20;break;case 7:return c=Object(L.a)(Object(L.a)({},c),{primary:{data:"Congratulations! It's a beautiful baby colony!"}}),e.abrupt("break",21);case 9:return c=Object(L.a)(Object(L.a)({},c),J(n,t[a])),e.abrupt("break",21);case 11:return o=z(n,t[a]),e.next=14,K(o.primary.token);case 14:return s=e.sent,(c=Object(L.a)(Object(L.a)({},c),o)).primary.symbol=s,e.abrupt("break",21);case 18:return c=Object(L.a)(Object(L.a)({},c),(i=n,{primary:{domainId:new T.utils.BigNumber(i.values.domainId).toString()}})),e.abrupt("break",21);case 20:c=Object(L.a)({},c);case 21:return e.abrupt("return",c);case 22:case"end":return e.stop()}var i}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 2:return(a=e.sent).sort((function(e,t){return t.secondary-e.secondary})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a,r,c,o,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,n=t.filters.PayoutClaimed(),a=t.filters.ColonyInitialised(),r=t.filters.ColonyRoleSet(),c=t.filters.DomainAdded(),e.t0=[],e.t1=C.a,e.next=11,Object(I.getLogs)(t,n);case 11:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=C.a,e.next=16,Object(I.getLogs)(t,a);case 16:return e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t7=C.a,e.next=21,Object(I.getLogs)(t,r);case 21:return e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.t10=C.a,e.next=26,Object(I.getLogs)(t,c);case 26:return e.t11=e.sent,e.t12=(0,e.t10)(e.t11),o=e.t0.concat.call(e.t0,e.t3,e.t6,e.t9,e.t12),s=o.map((function(e){return t.interface.parseLog(e)})),i=G(o,s),e.abrupt("return",i);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=n(176),Z=n.n(Y),q=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,eventsList:[]},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoading:!0}),U().then((function(e){t.setState({eventsList:e,isLoading:!1})}),(function(e){t.setState({eventsList:null,isLoading:!1})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:Z.a.container},this.state.isLoading?r.a.createElement("div",null,"Loading data..."):this.state.eventsList?r.a.createElement(_,{eventsList:this.state.eventsList}):r.a.createElement("div",null,"Uh oh! Failed to load data."))}}]),n}(r.a.Component);var Q=function(){return r.a.createElement("div",{className:i.a.app},r.a.createElement(q,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root"))},99:function(e,t,n){e.exports={container:"eventsList_container__2L_43",list:"eventsList_list__18X-5"}}},[[177,1,2]]]);
//# sourceMappingURL=main.90a12306.chunk.js.map